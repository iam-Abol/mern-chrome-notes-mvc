<%- include('../includes/header.ejs') %>
    <%- include('../includes/navbar.ejs') %>


        <ul class="m-auto w-4/5 p-2 flex-grow">
            <% notes.forEach(note=> {%>

                <div
                    class="rounded-2xl bg-white p-4 my-4 shadow-md hover:shadow-xl shadow-stone-300 transition-all duration-300">
                    <div class="mb-2 flex items-center justify-between">
                        <h2 class="text-xl font-semibold text-gray-950">
                            <%= note.title %>
                        </h2>
                        <% if (note.pinned) { %>
                            <span>ðŸ“Œ</span>
                            <% } %>

                    </div>

                    <style>
                        .note-content {

                            display: -webkit-box;
                            -webkit-line-clamp: 4;
                            -webkit-box-orient: vertical;
                            overflow: hidden;
                            text-overflow: ellipsis;
                        }
                    </style>
                    <p class="mb-2 note-content  text-gray-600 whitespace-pre-line">
                        <%= note.content %>
                    </p>
                    <div class="flex justify-between text-sm ">
                        <span>Created at: <%= new Date(note.created_at).toLocaleString() %></span>
                        <div>
                            <a href="/<%= note.id %>"
                                class="mx-4  text-gray-500 hover:underline hover:text-gray-900">View</a>
                            <form action="/pdf/<%= note.id %>" method="post" class="inline">
                                <button class="  text-gray-600 hover:underline hover:text-gray-900">pdf</button>
                            </form>
                            <a href="/edit/<%= note.id %>" class="mx-4  text-green-500 hover:underline">edit</a>
                            <form action="/delete/<%= note.id %>" method="post" class="inline">
                                <button class="  text-red-500 hover:underline">delete</button>
                            </form>

                        </div>
                    </div>
                </div>

                <% }) %>

        </ul>


        <%- include('../includes/footer.ejs') %>